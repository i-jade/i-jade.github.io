(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{609:function(t,s,n){"use strict";n.r(s);var e=n(70),a=Object(e.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("blockquote",[n("p",[t._v("最近在使用Flutter的插件web_view的时候，出现了打开http网页不能正常访问，但是可以访问https的网页，经过一阵搜索，找到了答案")])]),t._v(" "),n("h2",{attrs:{id:"原因"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#原因"}},[t._v("#")]),t._v(" 原因")]),t._v(" "),n("pre",[n("code",[t._v("IOS和Android 9.0+对非HTTPS请求做了一些限制，不能直接访问Http请求，在Android中会出现net:ERR_CLEARTEXT_NOT_PERMITTED的错误\n")])]),t._v(" "),n("h2",{attrs:{id:"解决办法"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#解决办法"}},[t._v("#")]),t._v(" 解决办法")]),t._v(" "),n("p",[t._v("在Android中添加信任，详细步骤如下：")]),t._v(" "),n("ul",[n("li",[n("p",[t._v("在清单文件AndroidManifest.xml的Application的标签里面设置networkSecurityConfig属性，代码如下：")]),t._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('    <?xml version="1.0" encoding="utf-8"?>\n    <manifest ... >\n        <application android:networkSecurityConfig="@xml/network_security_config">\n            \x3c!-- ... --\x3e\n        </application>\n    </manifest>\n')])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br")])]),n("p",[t._v("如下图所示："),n("img",{attrs:{src:"https://i.loli.net/2020/01/02/M6FVbUfzk8SZoLK.png",alt:"错误"}})])]),t._v(" "),n("li",[n("p",[t._v("在src/res/xml下面创建network_security_config.xml，配置如下所示：")]),t._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v('    <?xml version="1.0" encoding="utf-8"?>\n    <network-security-config>\n        <base-config cleartextTrafficPermitted="true">\n            <trust-anchors>\n                <certificates src="system" />\n            </trust-anchors>\n        </base-config>\n    </network-security-config>\n')])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br")])]),n("p",[t._v("如下图所示："),n("img",{attrs:{src:"https://i.loli.net/2020/01/02/jROiIWJGEb7V3aL.png",alt:"错误"}})])])])])}),[],!1,null,null,null);s.default=a.exports}}]);